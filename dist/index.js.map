{"version":3,"sources":["../index.js"],"names":["$","document","ready","isOpen","on","css","xhr","XMLHttpRequest","responseType","open","setRequestHeader","onload","console","log","response","data","owners","owner","append","id","name","send","JSON","stringify","query","click","a_tag","count","dogs","length","dog","after","age","has_shots","address","phone","text","find","children","remove","closest","attr","myFunction","x","getElementById","className","indexOf","replace"],"mappings":"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","file":"index.js","sourcesContent":["$(document).ready(function() {\r\n    let isOpen = false;\r\n\r\n    $(\"#showModal\").on('click', function(){\r\n        $(\"html\").css(\"overflow-y\", \"hidden\");\r\n    });\r\n\r\n    $(\".closeModal\").on('click', function(){\r\n        $(\"html\").css(\"overflow-y\", \"auto\");\r\n    });\r\n\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.responseType = 'json';\r\n    xhr.open(\"POST\", \"/graphql\");\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n    xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n    xhr.onload = function () {\r\n        console.log('data returned:', xhr.response);\r\n        for (let owner of xhr.response.data.owners){\r\n            $(\"#ownerList\").append(\"<li><a class='ownerLink' id=\"+owner.id+\" href='#'>\"\r\n                +owner.name+\"</a></li>\");\r\n        }\r\n    };\r\n    xhr.send(JSON.stringify({query: \"{ owners { name\" +\r\n        \" id } }\"}));\r\n\r\n    $(\"#showAll\").click(function() {\r\n        if (isOpen == false) {\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.responseType = 'json';\r\n            xhr.open(\"POST\", \"/graphql\");\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n            xhr.onload = function () {\r\n                for (let owner of xhr.response.data.owners)\r\n                {\r\n                    let a_tag = $(\"#\"+owner.id);\r\n                    let count = owner.dogs.length;\r\n                    for (let dog of owner.dogs) {\r\n                        a_tag.after(\"<ul>\" +\r\n                            \"<li>Dog \"+count+\": \"+dog.name+\"</li><ul>\" +\r\n                            \"<li>Age: \"+dog.age+\"</li>\"+\r\n                            \"<li>Has Shots: \"+dog.has_shots+\"</li>\"+\r\n                            \"</ul></ul>\");\r\n                        count -= 1;\r\n                    }\r\n                    a_tag.after(\"<ul>\" +\r\n                        \"<li>Address: \"+owner.address+\"</li>\"+\r\n                        \"<li>Phone: \"+owner.phone+\"</li></ul>\");\r\n                }\r\n            };\r\n            xhr.send(JSON.stringify({query: `{\r\n                    owners {\r\n                        id\r\n                        address\r\n                        phone\r\n                        dogs {\r\n                            name\r\n                            age\r\n                            breed\r\n                            has_shots\r\n                        }\r\n                    }\r\n                }`}));\r\n            $(\"#showAll\").text(\"Collapse All\");\r\n            isOpen = true;\r\n        } else {\r\n            $(document).find(\"ul\").children(\"li\").children(\"ul\").remove();\r\n            $(\"#showAll\").text(\"Show All\");\r\n            isOpen = false;\r\n        }\r\n\r\n    });\r\n\r\n    $(document).on(\"click\", \"a\", function(){\r\n        let a_tag = $(this);\r\n        if ($(this).closest(\"li\").children(\"ul\").length == 0) {\r\n            let xhr = new XMLHttpRequest();\r\n            xhr.responseType = 'json';\r\n            xhr.open(\"POST\", \"/graphql\");\r\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n            xhr.onload = function () {\r\n                let owner = xhr.response.data.owners[0];\r\n                let count = owner.dogs.length;\r\n                for (let dog of owner.dogs) {\r\n                    a_tag.after(\"<ul>\" +\r\n                        \"<li>Dog \"+count+\": \"+dog.name+\"</li><ul>\" +\r\n                        \"<li>Age: \"+dog.age+\"</li>\"+\r\n                        \"<li>Has Shots: \"+dog.has_shots+\"</li>\"+\r\n                        \"</ul></ul>\");\r\n                    count -= 1;\r\n                }\r\n                a_tag.after(\"<ul>\" +\r\n                    \"<li>Address: \"+owner.address+\"</li>\"+\r\n                    \"<li>Phone: \"+owner.phone+\"</li></ul>\");\r\n            };\r\n            xhr.send(JSON.stringify({query: `{\r\n                    owners(id:`+a_tag.attr('id')+`) {\r\n                        address\r\n                        phone\r\n                        dogs {\r\n                            name\r\n                            age\r\n                            breed\r\n                            has_shots\r\n                        }\r\n                    }\r\n                }`}));\r\n            $(\"#showAll\").text(\"Collapse All\");\r\n            isOpen = true;\r\n        } else {\r\n            $(this).closest(\"li\").children(\"ul\").remove();\r\n        }\r\n    });\r\n\r\n    // Used to toggle the menu on small screens when clicking on the menu button\r\n    function myFunction() {\r\n        var x = document.getElementById(\"navDemo\");\r\n        if (x.className.indexOf(\"w3-show\") == -1) {\r\n            x.className += \" w3-show\";\r\n        } else {\r\n            x.className = x.className.replace(\" w3-show\", \"\");\r\n        }\r\n    }\r\n});"]}